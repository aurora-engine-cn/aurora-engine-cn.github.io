import{_ as s,c as a,o as n,N as e}from"./chunks/framework.87190bdf.js";const u=JSON.parse('{"title":"静态资源","description":"","frontmatter":{},"headers":[],"relativePath":"static/static.md"}'),l={name:"static/static.md"},o=e(`<h1 id="静态资源" tabindex="-1">静态资源 <a class="header-anchor" href="#静态资源" aria-label="Permalink to &quot;静态资源&quot;">​</a></h1><p>现在的 <code>Aurora</code> 的试图解析只不过是通过读取文件响应给浏览器，使用的还是go包提供的 <code>html/template</code> 包解析。</p><h2 id="视图资源" tabindex="-1">视图资源 <a class="header-anchor" href="#视图资源" aria-label="Permalink to &quot;视图资源&quot;">​</a></h2><p><code>aurora</code> 默认静态资源解析目录是项目根目录，推荐单独创建一个静态资源目录存放 html , js ,css 等静态资源， 在 <code>aurora</code> 项目中所有的html中引入的静态资源都必须以静态资源根路径为基础。通过<code>application.yaml</code>配置文件设置:</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">aurora</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">resource</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">static</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>配置文件中设置 <code>aurora.resource</code> 的值是项目根路径下面的一个目录 static ，此刻 static 目录为 所有静态资源的根路径。注意，如果对静态资源进行了打包，此配置也是必须配置的。</p><h2 id="文件资源" tabindex="-1">文件资源 <a class="header-anchor" href="#文件资源" aria-label="Permalink to &quot;文件资源&quot;">​</a></h2><p><code>aurora</code> 基于go原生的api提供服务器文件系统支持，需要做出以下配置。</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">aurora</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">server</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 文件服务接口</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">file</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/resource</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>配置中的 <code>aurora.server.file</code> 选项配置的是当前web 服务中提供文件访问的接口名，随后在程序中添加相关处理接口如下：</p><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Get</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/resource</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    http</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">StripPrefix</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/resource/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    http</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">FileServer</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">http</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Dir</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">W:</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">xxx</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">xxx</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">static</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">))))</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>注册一个处理文件访问的接口 <code>/resource</code> , <code>http.StripPrefix</code> 中的前缀设置一定要和 服务接口保持一致。</p>`,12),p=[o];function r(t,c,i,d,D,y){return n(),a("div",null,p)}const m=s(l,[["render",r]]);export{u as __pageData,m as default};
